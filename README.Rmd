---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%",
  fig.width=6, 
  fig.height=7
)
```
# ihpdr

<!-- badges: start -->
[![CRAN status](https://www.r-pkg.org/badges/version/ihpdr)](https://CRAN.R-project.org/package=ihpdr)
[![Lifecycle: maturing](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)
[![Travis build status](https://travis-ci.org/kvasilopoulos/ihpdr.svg?branch=master)](https://travis-ci.org/kvasilopoulos/ihpdr)
[![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/kvasilopoulos/ihpdr?branch=master&svg=true)](https://ci.appveyor.com/project/kvasilopoulos/ihpdr)
<!-- badges: end -->

The goal of {ihpdr} is to fetch data from the [International House Price Database](https://www.dallasfed.org/institute/houseprice#tab1), compiled 
by the Federal Reserve Bank of Dallas.

## Installation

You can install development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("kvasilopoulos/ihpdr")
```
## Example

This is a basic example which shows you how to download the data:

```{r example}

# Raw Data
ihpdr::ihpd_get()

# Exuberance Indicators ~ bsadf
ihpdr::ihpd_get("bsadf")

# Get the release dates
ihpdr::ihpd_release_dates()
```

## Wrangle & Plot Real House Prices

```{r wrangle, message=FALSE}
library(tidyverse)
```

### Raw Data

```{r rhpi}
raw_data <- ihpdr::ihpd_get()

ggplot(raw_data, aes(Date, rhpi)) + 
  geom_line(size = 0.7) + 
  scale_x_date(date_labels = "%y") +
  facet_wrap(~country, ncol = 4) 
```

### Exuberance Indicators - Date-stamping

```{r exuber-ind, warning=FALSE}
bsadf_data <- ihpdr::ihpd_get("bsadf")

bsadf_data %>% 
  dplyr::filter(type == "rhpi", lag == 1) %>% 
  ggplot() + 
  geom_line(aes(Date, value), size = 0.7) +
  geom_line(aes(Date, crit), col = "red", size = 0.7) +
  scale_x_date(date_labels = "%y") +
  facet_wrap(~country, ncol = 4)
```
